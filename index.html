<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>响应式设计练习</title>
	<link rel="stylesheet" type="text/css" href="./css/global.css">
	<link rel="stylesheet" type="text/css" href="./css/header.css">
	<link rel="stylesheet" type="text/css" href="./icomoon/style.css">
	<link rel="stylesheet" type="text/css" href="./css/nav.css">
	<link rel="stylesheet" type="text/css" href="./css/flexbox.css">
	<link rel="stylesheet" type="text/css" href="./css/article.css">
	<script type="text/javascript">
		window.onload = function(){
			var btn = document.querySelector('.menu-btn-icon'),
				menu = document.querySelector('.nav-container-list'),
				mql = window.matchMedia('(min-width:480px)'),
				menuIsCollapse = true;

			btn.onclick = function(){
				menuIsCollapse = !menuIsCollapse;
				if(menuIsCollapse){
					menu.style.display = 'none';
					btn.classList.remove('icon-cross');
					btn.classList.add('icon-menu');
				}else{
					menu.style.display = 'block';
					btn.classList.remove('icon-menu');
					btn.classList.add('icon-cross');
				}
			}

			function mediaChangeHandler(mql){
				//匹配成功，导航栏宽度大于480px
				//则无论如何也显示导航栏
				
				if(mql.matches){
					menu.style.display = '';
					console.log(1);
				}else{
					if(menuIsCollapse){
						menu.style.display = 'none';
					}else{
						menu.style.display = '';
					}
				}
			}

			mql.addListener(mediaChangeHandler);
			mediaChangeHandler(mql);


		}
	</script>
</head>
<body>
	<nav>
		<div class="menu-btn">
			<a href="javascript:void(0)" class="menu-btn-icon icon icon-menu"></a>
		</div>
		<ul class="nav-container-list flex-enable flex-row flex-justify-space-around">
			<li class="nav-list-item">
				<a href="javascript:void(0)">item1</a>
				<ul class="nav-submenu-list">
					<li class="nav-submenu-item"><a href="javascript:void(0)">subitem1</a></li>
					<li class="nav-submenu-item"><a href="javascript:void(0)">subitem2</a></li>
					<li class="nav-submenu-item"><a href="javascript:void(0)">subitem3</a></li>
					<li class="nav-submenu-item"><a href="javascript:void(0)">subitem4</a></li>
				</ul>
			</li>
			<li class="nav-list-item"><a href="javascript:void(0)">item2 a long item</a></li>
			<li class="nav-list-item"><a href="javascript:void(0)">it</a></li>
			<li class="nav-list-item"><a href="javascript:void(0)">item4</a></li>
		</ul>
	</nav>
	<header>
		<div class="header-text-container">
			<h1 class="header-article_title">巨大的标题</h1>
			<time class="header-atricle_pub">2016年9月3日</time>
		</div>
	</header>
	<article>
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
		朝辞白帝彩云间千里江陵一日还两岸猿声啼不住轻舟已过万重山
	</article>
</body>
</html>